---
title: "การติดตั้ง R และ Jupyter"
author: "Piyayut Chitchumnong"
date: 2020-04-22
lastmod: 2020-04-22
categories: ["R"]
tags: ["R", "Jupyter", "miniconda", "tutorial"]
autoCollapseToc: false
contentCopyright: MIT
draft: false
mathjax: true
---

## เกริ่น
`R` เป็นภาษาคอมพิวเตอร์ที่นิยมใช้ในการวิเคราะห์ทางสถิติ เศรษฐมิติ รวมถึง Data Science ข้อดีของ 
`R` คือ **ฟรี** และ มี **packages** ที่มีความสามารถหลากหลาย เช่น Data Wrangling 
(การจัดการข้อมูล) Data Visualization (การนำเสนอข้อมูลด้วยภาพ) Model 
(การทำแบบจำลองเพื่อวิเคราะห์หรือพยากรณ์) เป็นต้น <br><br>

ในการใช้งานจริง  เราจะใช้ `R` ผ่านเครื่องมือช่วยที่เรียกว่า IDE (Integrated Development Environment) 
โดยมีความสามารถ เช่น สร้างและแก้ไข script โปรแกรม ประมวลผล แสดงผลทั้งรูปแบบข้อมูลและกราฟฟิก เป็นต้น <br><br>

สำหรับ `R` [RStudio](https://rstudio.com) เป็น IDE ที่ได้รับความนิยม แต่มีข้อจำกัดในการ
ใช้ตัวห้อยตัวลอยในภาษาไทย ไม่สะดวกต่อการเขียนภาษาไทย ในที่นี้จึงขอแนะนำให้ใช้ `R` กับ
[Jupyter](https://jupyter.org) ซึ่งเป็น IDE อีกตัวหนึ่ง มีข้อดี คือ เป็น web-based 
interactive notebook สามาถ coding พร้อมทั้งแสดงผลได้ในไฟล์เดียวกัน และยังสามารถใช้ 
`markdown` ในการเขียนข้อความอธิบาย ได้อีกด้วย นอกจากนี้ `Jupyter` ยังสามารถใช้กับภาษาอื่น
ได้ด้วย (`Python` `Julia` หรือ `Stata`) <br><br>

ในการติดตั้งแนะนำให้ ติดตั้ง `Miniconda` ก่อน เพื่อติดตั้ง `Jupyter` จากนั้นจึงติดตั้ง `R` 
พร้อมทั้งติดตั้ง IRkernel เพื่อใช้ `R` ได้ใน `Jupyter` 

---
## Miniconda
- install miniconda
    - download [miniconda3](https://docs.conda.io/en/latest/miniconda.html) เลือกระหว่าง 
    `Miniconda3 Windows 64-bit` หรือ `Miniconda3 Windows 32-bit` 
    โดยดูว่าเครื่องเราใช้ windows system อะไร
![find_os](images/find_os.gif)
    - เปิดไฟล์ installer
    - click Next
    - click I Agree
    - เลือก Just Me และ click Next
    - เปลี่ยน Desitnation Folder เป็น `C:\Users\[USERNAME]\Miniconda3` โดยที่ 
    USERNAME หมายถึง ชื่อตอน log-in เข้าเครื่อง
    - click Next ไปเรื่อย ๆ

![install_miniconda](images/install_miniconda.gif)
    
- environment path
    - คลิ๊ก ขวา ที่ My Computer แล้วเลือก Properties
    - เลือก Advance system setting &rarr; Advanced &rarr; Environment Variables
    - เลือก Variable ชื่อ path แล้วเลือก Edit
    - คลิ๊ก New แล้วเพิ่ม path ดังนี้  
       `C:\Users\[USERNAME]\miniconda3`  
       `C:\Users\[USERNAME]\miniconda3\Script`  
       `C:\Users\[USERNAME]\miniconda3\Library\bin`
       
- install packages  
    - ไปที่ start &rarr; Anaconda3 &rarr; Anaconda Powershell Prompt
    - โดยพิมคำสั่ง `pip install ipython ipykernel jupyterlab`

---

## R
- install R
    - download [R สำหรับ windows](https://cran.r-project.org/bin/windows/base/) 
    และ เปิดไฟล์ installer
    - click Next
    - click I Agree
    - เลือก Just Me และ click Next
    - เปลี่ยน Desitnation Folder เป็น `C:\Users\[USERNAME]\R\[R-x.x.x]` โดยที่ USERNAME 
    หมายถึง ชื่อตอน log-in เข้าเครื่อง
    - เลือก install version ตามระบบของ windows คือ เลือก 32 bit หรือ 64 bit 
    อย่างใดอย่างหนึ่ง วิธีการดูว่า windows นั้นเป็นระบบไหน ให้คลิ๊ก ขวา ที่ My Computer 
    แล้วเลือก Properties ดูที่ section system
    - click Next ไปเรื่อย ๆ
    - ![install_R](images/install_R.gif)

- environment path
    - คลิ๊ก ขวา ที่ My Computer แล้วเลือก Properties
    - เลือก Advance system setting &rarr; Advanced &rarr; Environment Variables
    - เลือก Variable ชื่อ path แล้วเลือก Edit
    - คลิ๊ก New แล้วเพิ่ม path `C:\Users\[USERNAME]\R\[R-x.x.x]\bin\x64` โดยที่ x64 หมายถึง version 64 bit  


- install package
    - ไปที่ start &rarr; R &rarr; R x64 x.x.x
    - พิมพ์คำสั่ง `install.packages('IRkernel')`
    - พิมพ์คำสั่ง `IRkernel::installspec()`

---

## ทดสอบ Jupyter
- ไปที่ start &rarr; Anaconda &rarr; Anaconda Powershell Prompt
- พิมพ์คำสั่ง `jupyter lab` defaullt browser จะเปิดขึ้น `http://localhost:8888/lab`
- สร้าง folder ใหม่ ตั้งชื่อว่า demo เป็นต้น
- เลือก R ใน section Notebook
- ลองพิมพ์คำสั่ง

```R
head(mtcars)
pairs(~ mpg + disp + drat + wt, data=mtcars,
    main="Simple Scatterplot Matrix")
```
